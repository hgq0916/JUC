#### AQS源码

<img src="6.强软弱虚四种引用以及ThreadLocal的原理与源码.assets/image-20200814082853719.png" alt="image-20200814082853719" style="zoom: 67%;" />



VarHandle: 

​	1.普通属性原子操作

​	2.比反射快，直接操纵二进制码

#### 强软弱虚



#### ThreadLocal

使用弱引用

-set:Thread.currentThread.map(ThreadLocal,Person)

用途：

​	声明式事务，保证同一个Connection

